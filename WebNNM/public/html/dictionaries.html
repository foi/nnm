<div ng-controller="DictCtrl" ng-show="dbConnected">
  <div class="panel panel-default">
    <div class="panel-body">
      <!-- Таблица с хостами -->
      <h3>Таблица с хостами</h3>
      <table class="table table-bordered table-hover table-condensed">
        <tr style="font-weight: bold">
          <td style="width:30%">название</td>
          <td style="width:25%">ip-адрес/доменное имя</td>
          <td style="width:20%">группа</td>
          <td style="width:25%">изменить/удалить</td>
        </tr>
        <tr ng-repeat="host in hosts">
          <td>
            <a href="#" editable-text="host.name" onbeforesave="updateHost(host)">
              {{ host.name || 'Пусто' }}
            </a>
          </td>
          <td>
            <a href="#" editable-text="host.ip_or_name" onbeforesave="updateHost(host)">
              {{ host.ip_or_name || 'Пусто' }}
            </a>
          </td>
          <td>
            <a href="#" editable-select="host.group_id" e-ng-options="g.id as g.name for g in groups" onbeforesave="updateHost(host)">
              {{ showGroup(host) }}
            </a>
          </td>
          <td>
            <button ng-click="deleteHost(host.id)" href="#" class="btn btn-primary">
              Удалить
            </button>
          </td>
        </tr>
      </table>
      <div class="panel panel-default">
        <form class="form-inline" name="addHostForm">
          <div class="form-group">
            <input type="text" class="form-control" ng-model='host.name' name="hostname" id="hostnameinput" placeholder="Введите название хоста" required>
          </div>
          <div class="form-group">
            <input type="text" class="form-control" ng-model='host.ip_or_name' id="ipornameinput" name="iporname" placeholder="Введите ip-адрес или доменное имя" required>
          </div>
          <div class="form-group">
            <select ng-model="host.group_id" ng-options="group.id as group.name for group in groups" name="group_id" class="form-control" required></select>
          </div>
          <button type="submit" class="btn btn-default" ng-click="addHost(host)">Добавить</button>
        </form>
        {{ hosts | json }}
      </div>
      <!-- Конец таблицы с хостами -->
    </div>
  </div>
</div>