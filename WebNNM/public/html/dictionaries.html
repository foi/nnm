<div ng-controller="DictCtrl" ng-show="dbConnected">
  <div class="panel panel-default">
    <div class="panel-body">
      <!-- Таблица с хостами -->
      <h3>Таблица с хостами</h3>
      <table class="table table-bordered table-hover table-condensed">
        <tr style="font-weight: bold">
          <td style="width:40%">название</td>
          <td style="width:35%">ip-адрес/доменное имя</td>
          <td style="width:20%">группа</td>
          <td style="width:5%">X</td>
        </tr>
        <tr ng-repeat="host in hosts">
          <td>
            <a href="#" editable-text="host.name" onbeforesave="updateHost(host)">
              {{ host.name || 'Пусто' }}
            </a>
          </td>
          <td>
            <a href="#" editable-text="host.ip_or_name" onbeforesave="updateHost(host)">
              {{ host.ip_or_name || 'Пусто' }}
            </a>
          </td>
          <td>
            <a href="#" editable-select="host.group_id" e-ng-options="g.id as g.name for g in groups" onbeforesave="updateHost(host)">
              {{ showGroup(host) }}
            </a>
          </td>
          <td>
            <button ng-click="deleteHost(host.id)" href="#" class="btn btn-primary">
              Удалить
            </button>
          </td>
        </tr>
      </table>
      <div class="panel panel-info">
        <div class="panel-heading">Добавить новый хост</div>
        <form class="form-inline" name="addHostForm">
          <div class="form-group">
            <input type="text" class="form-control" ng-model='host.name' name="hostname" id="hostnameinput" placeholder="название хоста" required>
          </div>
          <div class="form-group">
            <input type="text" class="form-control" ng-model='host.ip_or_name' id="ipornameinput" name="iporname" placeholder="ip-адрес или доменное имя" required>
          </div>
          <div class="form-group">
            <select ng-model="host.group_id" ng-options="group.id as group.name for group in groups" name="group_id" class="form-control" required></select>
          </div>
          <button type="submit" class="btn btn-default" ng-click="addHost(host)">Добавить</button>
        </form>
      </div>
      <!-- Конец таблицы с хостами -->
      <!-- таблица с группами -->
      <h3>Таблица с группами</h3>
      <table class="table table-bordered table-hover table-condensed">
        <tr style="font-weight: bold">
          <td style="width:95%">название</td>
          <td style="width:5%">X</td>
        </tr>
        <tr ng-repeat="group in groups">
          <td>
            <a href="#" editable-text="group.name" onbeforesave="updateGroup(group)">
              {{ group.name || 'Пусто' }}
            </a>
          </td>
          <td>
            <button ng-click="deleteGroup(group.id)" href="#" class="btn btn-primary">
              Удалить
            </button>
          </td>
        </tr>
      </table>
      <div class="panel panel-info">
        <div class="panel-heading">Добавить новую группу</div>
        <form class="form-inline" name="addGroupForm">
          <div class="form-group">
            <input type="text" class="form-control" ng-model='group.name' name="groupname" id="groupnameinput" placeholder="наименование группы" required>
          </div>
          <button type="submit" class="btn btn-default" ng-click="addGroup(group)">Добавить</button>
        </form>
      </div>
      <!-- Конец таблицы с группами -->
      <!-- Начало таблицы с хостами и портами -->
      <h3>Таблица с хостами и портами</h3>
      <table class="table table-bordered table-hover table-condensed">
        <tr style="font-weight: bold">
          <td style="width:40%">Наименование</td>
          <td style="width:25%">Тип</td>
          <td style="width:25%">Хост</td>
          <td style="width:5%">Порт</td>
          <td style="width:5%">X</td>
        </tr>
        <tr ng-repeat="hp in hosts_and_ports">
          <td>
            <a href="#" editable-text="hp.name" onbeforesave="updateHp(hp)">
              {{ hp.name || 'Пусто' }}
            </a>
          </td>
          <td>
            <a href="#" editable-select="hp.type_of_host_and_port_id" e-ng-options="t.id as t.name for t in types" onbeforesave="updateHp(hp)">
              {{ showType(hp.type_of_host_and_port_id) }}
            </a>
          </td>
          <td>
            <a href="#" editable-text="hp.port" onbeforesave="updateHp(hp)">
              {{ hp.port || 'Пусто' }}
            </a>
          </td>
          <td>
            <a href="#" editable-select="hp.host_id" e-ng-options="h.id as h.name for h in hosts" onbeforesave="updateHp(hp)">
              {{ showHost(hp.host_id) }}
            </a>
          </td>
          <td>
            <button ng-click="deleteHp(Hp.id)" href="#" class="btn btn-primary">
              Удалить
            </button>
          </td>
        </tr>
      </table>
      <div class="panel panel-info">
        <div class="panel-heading">Добавить новый хост и порт</div>
        <form class="form-inline" name="addHpFrom">
          <div class="form-group">
            <input type="text" class="form-control" ng-model='hp.name' name="hpname" id="hpnameinput" placeholder="наименование хоста и порта" required>
          </div>
          <div class="form-group">
            <select ng-model="hp.type_of_host_and_port_id" ng-options="t.id as t.name for t in types" name="type_of_host_and_port_id" class="form-control" required></select>
          </div>
          <div class="form-group">
            <select ng-model="hp.host_id" ng-options="h.id as h.name for h in hosts" name="hphost_id" class="form-control" required></select>
          </div>
          <div class="form-group">
            <input type="text" class="form-control" ng-model='hp.port' name="hpport" id="hpnameinput" placeholder="порт" required>
          </div>
          <button type="submit" class="btn btn-default" ng-click="addHp(hp)">Добавить</button>
        </form>
      </div>
      <!-- Конец таблицы с хостами и портами -->
      <!-- Начало таблицы с сервисами -->
      <h3>Таблица с сервисами</h3>
      <table class="table table-bordered table-hover table-condensed">
        <tr style="font-weight: bold">
          <td style="width:40%">название</td>
          <td style="width:55%">гуманное название</td>
          <td style="width:5%">X</td>
        </tr>
        <tr ng-repeat="service in services">
          <td>
            <a href="#" editable-text="service.name" onbeforesave="updateService(service)">
              {{ service.name || 'Пусто' }}
            </a>
          </td>
          <td>
            <a href="#" editable-text="service.readable_name" onbeforesave="updateService(service)">
              {{ service.readable_name || 'Пусто' }}
            </a>
          </td>
          <td>
            <button ng-click="deleteService(service.id)" href="#" class="btn btn-primary">
              Удалить
            </button>
          </td>
        </tr>
      </table>
      <!-- Конец таблицы с сервисами -->
    </div>
  </div>
</div>